/* 1. ФОН (создаем его как отдельный слой ПОД всем сайтом) */
body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("/indmi-art/images/bg.gif");
    background-size: cover;
    background-position: center;
    z-index: -1; /* Уходим в самый низ */
}

/* Очищаем фон у всего остального */
html, body, .main, .post-entry, .profile_inner, .header, .footer {
    background: transparent !important;
    background-color: transparent !important;
}

/* 2. ТЕКСТ: ИСПОЛЬЗУЕМ ДРУГОЙ ТИП СМЕШИВАНИЯ */
/* Вместо размытия всего контейнера, используем background-clip или просто изоляцию текста */
h1, h2, h3, h4, h5, h6, p, span, a, li, time, .logo a, #menu a {
    color: #fff !important;
    mix-blend-mode: difference !important;
    position: relative;
    /* Убираем любые фильтры, которые могли наследоваться */
    isolation: auto !important; 
}

/* 3. ФОТОГРАФИИ: ЖЕСТКИЙ ВЫВОД ИЗ СМЕШИВАНИЯ */
/* Главный секрет: мы создаем для картинок свой собственный 'контекст наложения' */
img, video, iframe, .post-cover img {
    mix-blend-mode: normal !important;
    /* isolation: isolate работает только если элемент не является частью другого эффекта */
    display: block; 
    position: relative;
    z-index: 100 !important; /* Поднимаем фото ВЫШЕ магии */
    transform: translateZ(0); /* Магия 2026: заставляем браузер рендерить это через видеокарту отдельно */
}

/* 4. ЧТОБЫ ТЕКСТ НЕ ИНВЕРТИРОВАЛ КАРТИНКИ */
/* Если текст наезжает на фото, он может его инвертировать. 
   Если вам это не нужно, добавим фон самим картинкам */
img {
    background-color: #000; /* Создает барьер для магии */
}
